
# 操作系统管理内存

> 操作系统需要管理物理内存和线性地址空间。

* `!process 0 0` 查看进程
* `dt _eprocess 82014220` 查看进程对象结构

* 在进程对象中可以看到 `+0x160 PhysicalVadList  : _LIST_ENTRY [ 0x82014380 - 0x82014380 ]` 物理地址链表结构，这个链表结构中保存了进程的物理内存地址。
* `!vad 82014380` 查看链表结构
* `+0x11c VadRoot          : 0x81d34e80 Void` 树结构 线性地址分配情况
* `!vad 0x81d34e80` 查看线性地址分配情况

查找页目录表基地址
```
0: kd> dt _KPROCESS 82014220
nt!_KPROCESS
   +0x000 Header           : _DISPATCHER_HEADER
   +0x010 ProfileListHead  : _LIST_ENTRY [ 0x82014230 - 0x82014230 ]
   +0x018 DirectoryTableBase : [2] 0x2b402c0
```