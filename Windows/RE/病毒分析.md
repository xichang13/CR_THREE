
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [计算机病毒](#计算机病毒)
  - [依附的媒体类型分类](#依附的媒体类型分类)
  - [计算机特定算法分类](#计算机特定算法分类)
  - [家族分类](#家族分类)
- [病毒分析](#病毒分析)
  - [基础流程](#基础流程)
  - [静态分析](#静态分析)
    - [查壳工具](#查壳工具)
    - [常见壳](#常见壳)
    - [脱壳工具](#脱壳工具)

<!-- /code_chunk_output -->


# 计算机病毒

计算机病毒是一种恶意程序，能够自我复制和传播，对计算机系统和数据造成破坏。计算机病毒通常通过感染计算机文件、系统程序等方式传播，一旦感染，病毒会自我复制并感染其他文件，导致计算机系统出现异常、数据丢失等问题。

## 依附的媒体类型分类

1. 网络病毒：通过网络传播的病毒，如WannaCry、勒索病毒等。
2. 文件病毒：感染可执行文件、文档等文件的病毒，如熊猫烧香、CIH病毒等。
3. 引导型病毒：感染计算机启动扇区的病毒，如CIH病毒、Stuxnet病毒等。

## 计算机特定算法分类

1. 附带型病毒：是一种计算机病毒，通常附带于一个EXE文件上，其名称与EXE文件名相同，但扩展是不同的。这类病毒一般不会破坏或更改文件本身，但在DOS读取时首先激活。
2. 蠕虫病毒：是一种计算机病毒，它通过网络传播，不需要用户干预。蠕虫病毒会复制自身，并将其发送给网络上的其他计算机，从而在网络上传播。
3. 可变病毒：是一种计算机病毒，它具有自我修改的能力，可以改变自己的代码，从而逃避检测和清除。

## 家族分类

1. 宏病毒：即存在于文档或工作表中的宏代码，如Word宏病毒、Excel宏病毒等。
2. CIH病毒：以前的，可以破坏计算机硬件的病毒。
3. 蠕虫病毒：常见病毒，能够自我复制和运行的独立程序，可以利用网络连接传播到其他电脑，如WannaCry、勒索病毒等。
4. 木马病毒：通过伪装成正常程序，窃取用户信息、控制用户电脑的病毒，如QQ盗号木马、银行木马等。

# 病毒分析

## 基础流程

1. 将样本的MD5、SHA1等值上传到病毒分析平台，获取样本的基本信息。（涉密样本不上传）
2. 确定样本类型，主要有后门、僵尸网络、下载器、勒索病毒、蠕虫病毒、启动器、间谍监听程序等。

## 静态分析

* 文件类型
  * Windows PE样本、Linux ELF、bat批处理、Android APP、JavaScript、PowerShell、Shell脚本等
* API 信息
* 字符串提取
* 壳检测，有些病毒会加壳，需要先脱壳

### 查壳工具

* Peid、FFIcoustmtk、Exeinfo PE 等

### 常见壳

* 压缩壳：UPX、ASPack、PECompact
* 加密壳：ASProtect、Themida、Armadillo

### 脱壳工具

* UPX UnPaker、ASPack Unpacker